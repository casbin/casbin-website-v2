---
id: performance
title: Performance Optimization
description: Casbin performance optimization techniques for high-volume environments and large-scale policy management
keywords: [Casbin optimization, performance tuning, high traffic, policy scaling, multi-threading]
authors: [hsluoyz]
---

In production environments with millions of users or complex permission structures, Casbin enforcement may encounter performance challenges. Common bottlenecks include:

## High Volume Traffic

Throughput exceeding 10,000 authorization requests per second can overwhelm a single Casbin instance. Recommended solutions:

1. **Multi-threaded architecture** – Deploy multiple Casbin instances across CPU cores. See: [Multi-threading](/docs/multi-threading).
2. **Distributed cluster** – Implement a Casbin cluster with Watcher synchronization for consistency across nodes. See: [Watchers](/docs/watchers).

:::note
These optimization strategies can be combined. For example, deploy a 10-server cluster with 5 threads per machine to handle extreme load scenarios.
:::

## Large Policy Datasets

Multi-tenant environments with millions of policy rules often experience slow enforcement and initial loading times. Effective mitigation approaches:

1. **Optimize model design** – A well-structured model minimizes redundant rules by leveraging role inheritance and domain separation. For example:
   - Define base policies applicable to all tenants
   - Implement tenant-specific overrides
   - Use conditional rules instead of per-user entries
   This typically reduces rule count to under 100 even for complex systems.
2. **Policy sharding** – Partition policies by tenant or service domain to limit rule sets loaded per enforcer instance. See: [Policy Subset Loading](/docs/policy-subset-loading).
3. **RBAC optimization** – Assign permissions to roles rather than individual users. Casbin's RBAC implementation maintains role relationships in an in-memory cache, enabling O(1) lookup performance. See the [RBAC performance discussion](https://github.com/casbin/casbin/issues/681#issuecomment-763801583) for technical details.

:::note
These techniques work synergistically—combine model optimization with sharding for maximum scalability.
:::
