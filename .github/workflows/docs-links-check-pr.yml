name: Check links for modified files

on:
  pull_request:
    paths:
      - 'docs/**'
      - 'blog/**'
      - 'README.md'

jobs:
  docs-links-check:
    runs-on: ubuntu-latest
    permissions:
      contents: read
    steps:
      - name: Checkout üõéÔ∏è
        uses: actions/checkout@master

      - name: Check links for docs mdx files üîé
        uses: gaurav-nelson/github-action-markdown-link-check@v1
        with:
          use-quiet-mode: 'yes' # only show errors in output.
          # use-verbose-mode: 'yes' # show detailed HTTP status for checked links.
          # refer to https://github.com/tcort/markdown-link-check#config-file-format
          config-file: '.github/workflows/docs.links.check.config.json'
          check-modified-files-only: 'yes'
          folder-path: 'docs/' # only check the docs/ folder
          file-extension: '.mdx'

      - name: Check links for docs markdown files üîé
        uses: gaurav-nelson/github-action-markdown-link-check@v1
        with:
          use-quiet-mode: 'yes' # only show errors in output.
          # use-verbose-mode: 'yes' # show detailed HTTP status for checked links.
          # refer to https://github.com/tcort/markdown-link-check#config-file-format
          config-file: '.github/workflows/docs.links.check.config.json'
          check-modified-files-only: 'yes'
          folder-path: 'docs/' # only check the docs/ folder
          file-extension: '.md'

      - name: Check links for blog files üîé
        uses: gaurav-nelson/github-action-markdown-link-check@v1
        with:
          use-quiet-mode: 'yes' # only show errors in output.
          config-file: '.github/workflows/docs.links.check.config.json'
          check-modified-files-only: 'yes'
          folder-path: 'blog/'
          file-extension: '.md'

      - name: Check links for README üîé
        uses: gaurav-nelson/github-action-markdown-link-check@v1
        with:
          use-quiet-mode: 'yes' # only show errors in output.
          config-file: '.github/workflows/docs.links.check.config.json'
          check-modified-files-only: 'yes'
          file-path: './README.md'
